<html xmlns = "http://www.w3.org/1999/xhtnl">
   <head>
      <title>calculator</title>
	     <input id="ans" value="0"> <br>
      <script type = "text/javascript">
	     var a = 0           //判斷是否為運算子
		 var b = 0           //判斷為何種運算子
		 var c = 0           //先乘除後加減，看是加還是減
		 var y
		 var add = 0         //被加數
		 
		 var added = 0       //加數 或 被乘數
		 
		 var mul = 0         //乘數
		 
		 var answer = 0      //乘出來的值
		 
         document.write( "<table><thead></thead><tbody>" )
		 
		 document.write( "<tr><td><button type=\"button\" id=\"7\" onclick=number(7)>7</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"8\" onclick=number(8)>8</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"9\" onclick=number(9)>9</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"+\" onclick=opt(11)>+</button></td></tr>" )
		 
		 document.write( "<tr><td><button type=\"button\" id=\"4\" onclick=number(4)>4</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"5\" onclick=number(5)>5</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"6\" onclick=number(6)>6</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"-\" onclick=opt(12)>-</button></td></tr>" )
		 
		 document.write( "<tr><td><button type=\"button\" id=\"1\" onclick=number(1)>1</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"2\" onclick=number(2)>2</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"3\" onclick=number(3)>3</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"*\" onclick=opt(13)>*</button></td></tr>" )
		 
		 document.write( "<tr><td><button type=\"button\" id=\"0\" onclick=number(0)>0</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"=\" onclick=opt(15)>=</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"C\" onclick=number(16)>C</button></td>" )
		 document.write( "<td><button type=\"button\" id=\"/\" onclick=opt(14)>/</button></td></tr>" )
		 
		 document.write( "</tbody></table>" )
		 
		 function number(x)
		 {
		    y = document.getElementById("ans").value
			if ( a == "0" ){
			   if ( y == "0" ){
			      document.getElementById("ans").value = x
			   }else {
			      document.getElementById("ans").value = document.getElementById("ans").value + x
		       }
			}
			if ( a == "1" ){
			   document.getElementById("ans").value = x
			   a = 0
			}
		 
		 }
		 function opt(o)
		 {
		    
			a = 1
			
		    if ( o == "11" ){                                           //加法
			   
			   if ( b == "1" ){
			      added = document.getElementById("ans").value
			      added = parseInt( added )
			      add = parseInt( add )
			      document.getElementById("ans").value = added + add
			   }
			   if ( b == "2" ){
			      added = document.getElementById("ans").value
			      added = parseInt( added )
			      add = parseInt( add )
			      document.getElementById("ans").value = add - added
			   }
			   if ( b == "3" ){
			      mul = document.getElementById("ans").value
				  mul = parseInt( mul )
				  answer = added * mul
				  answer = parseInt( answer )
				  document.getElementById("ans").value = add + answer
				  answer = 0
				  added = 0
				  add = 0
				  b = 0
			   }
			   b = 1
			   c = 1
			   add = document.getElementById("ans").value
			   answer = 0
			   
			}                                                           //加法
		    if ( o == "12" ){                                           //減法
			   
			   if ( b == "1" ){
			      added = document.getElementById("ans").value
			      added = parseInt( added )
			      add = parseInt( add )
			      document.getElementById("ans").value = added + add
			   }
			   if ( b == "2" ){
			      added = document.getElementById("ans").value
			      added = parseInt( added )
			      add = parseInt( add )
			      document.getElementById("ans").value = add - added
			   }
			   if ( b == "3" ){
			      mul = document.getElementById("ans").value
				  mul = parseInt( mul )
				  answer = added * mul
				  answer = parseInt( answer )
				  document.getElementById("ans").value = add - answer
				  answer = 0
				  added = 0
				  add = 0
				  b = 0
			   }
			   b = 2
			   c = 2
			   add = document.getElementById("ans").value
			   answer = 0
			   
			}                                                           //減法
			if ( o == "13" ){                                           //乘法
			   
			   if ( b == "1" ){
			      added = document.getElementById("ans").value
			      added = parseInt( added )
			      add = parseInt( add )
			   }
			   if ( b == "2" ){
			      added = document.getElementById("ans").value
			      added = parseInt( added )
			      add = parseInt( add )
			   }
			   if ( b == "3" ){
			      mul = document.getElementById("ans").value
				  mul = parseInt( mul )
				  document.getElementById("ans").value = added * mul
				  
			   }
			   b = 3
			   added = document.getElementById("ans").value
			   added = parseInt( added )
			   add = parseInt( add )
			}                                                           //乘法
			if ( o == "14" ){                                           //除法
			   b = 4
			   
			}                                                           //除法
			if ( o == "15" ){
			   if ( b == "1" ){
			      added = document.getElementById("ans").value
			      added = parseInt( added )
			      add = parseInt( add )
			      document.getElementById("ans").value = added + add
				  added = 0
				  add = 0
				  b = 0
			   }
			   if ( b == "2" ){
			      added = document.getElementById("ans").value
			      added = parseInt( added )
			      add = parseInt( add )
			      document.getElementById("ans").value = add - added
				  added = 0
				  add = 0
				  b = 0
			   }
			   if ( b == "3" ){
			      mul = document.getElementById("ans").value
				  mul = parseInt( mul )
				  answer = added * mul
				  answer = parseInt( answer )
				  if ( c == "1" ){
				     document.getElementById("ans").value = add + answer
				  }
				  if ( c == "2" ){
				     document.getElementById("ans").value = add - answer
				  }
				  answer = 0
				  added = 0
				  add = 0
				  b = 0
			   }
			}
		 }
		 console.log( a )
      </script>

   </head><body></body>
</html>